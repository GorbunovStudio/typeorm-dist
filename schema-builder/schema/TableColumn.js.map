{"version":3,"sources":["../../src/schema-builder/schema/TableColumn.ts"],"names":[],"mappings":"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","file":"TableColumn.js","sourcesContent":["import {ColumnMetadata} from \"../../metadata/ColumnMetadata\";\r\n\r\n/**\r\n * Table's columns in the database represented in this class.\r\n */\r\nexport class TableColumn {\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Public Properties\r\n    // -------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Column name.\r\n     */\r\n    name: string;\r\n\r\n    /**\r\n     * Column type.\r\n     */\r\n    type: string;\r\n\r\n    /**\r\n     * Column's default value.\r\n     */\r\n    default: any;\r\n\r\n    /**\r\n     * Indicates if column is NULL, or is NOT NULL in the database.\r\n     */\r\n    isNullable: boolean = false;\r\n\r\n    /**\r\n     * Indicates if column is auto-generated sequence.\r\n     */\r\n    isGenerated: boolean = false;\r\n\r\n    /**\r\n     * Specifies generation strategy if this column will use auto increment.\r\n     */\r\n    generationStrategy?: \"uuid\"|\"increment\";\r\n\r\n    /**\r\n     * Indicates if column is a primary key.\r\n     */\r\n    isPrimary: boolean = false;\r\n\r\n    /**\r\n     * Indicates if column has unique value.\r\n     */\r\n    isUnique: boolean = false;\r\n\r\n    /**\r\n     * Indicates if column stores array.\r\n     */\r\n    isArray: boolean = false;\r\n\r\n    /**\r\n     * Column's comment.\r\n     */\r\n    comment?: string;\r\n\r\n    /**\r\n     * Column type's length. Used only on some column types.\r\n     * For example type = \"string\" and length = \"100\" means that ORM will create a column with type varchar(100).\r\n     */\r\n    length: string = \"\";\r\n\r\n    /**\r\n     * Defines column character set.\r\n     */\r\n    charset?: string;\r\n\r\n    /**\r\n     * Defines column collation.\r\n     */\r\n    collation?: string;\r\n\r\n    /**\r\n     * The precision for a decimal (exact numeric) column (applies only for decimal column), which is the maximum\r\n     * number of digits that are stored for the values.\r\n     */\r\n    precision?: number;\r\n\r\n    /**\r\n     * The scale for a decimal (exact numeric) column (applies only for decimal column), which represents the number\r\n     * of digits to the right of the decimal point and must not be greater than precision.\r\n     */\r\n    scale?: number;\r\n\r\n    /**\r\n     * Array of possible enumerated values.\r\n     */\r\n    enum?: any[];\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Constructor\r\n    // -------------------------------------------------------------------------\r\n\r\n    constructor(options?: {\r\n        name?: string,\r\n        type?: string,\r\n        length?: string,\r\n        charset?: string,\r\n        collation?: string,\r\n        precision?: number,\r\n        scale?: number,\r\n        default?: any,\r\n        isNullable?: boolean,\r\n        isGenerated?: boolean,\r\n        generationStrategy?: \"uuid\"|\"increment\",\r\n        isPrimary?: boolean,\r\n        isUnique?: boolean,\r\n        comment?: string,\r\n        enum?: any[]\r\n    }) {\r\n        if (options) {\r\n            this.name = options.name || \"\";\r\n            this.type = options.type || \"\";\r\n            this.length = options.length || \"\";\r\n            this.charset = options.charset;\r\n            this.collation = options.collation;\r\n            this.precision = options.precision;\r\n            this.scale = options.scale;\r\n            this.default = options.default;\r\n            this.isNullable = options.isNullable || false;\r\n            this.isGenerated = options.isGenerated || false;\r\n            this.generationStrategy = options.generationStrategy;\r\n            this.isPrimary = options.isPrimary || false;\r\n            this.isUnique = options.isUnique || false;\r\n            this.comment = options.comment;\r\n            this.enum = options.enum;\r\n        }\r\n    }\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Public Methods\r\n    // -------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Clones this column to a new column with exact same properties as this column has.\r\n     */\r\n    clone(): TableColumn {\r\n        const newTableColumn = new TableColumn();\r\n        newTableColumn.name = this.name;\r\n        newTableColumn.type = this.type;\r\n        newTableColumn.length = this.length;\r\n        newTableColumn.charset = this.charset;\r\n        newTableColumn.collation = this.collation;\r\n        newTableColumn.precision = this.precision;\r\n        newTableColumn.scale = this.scale;\r\n        newTableColumn.enum = this.enum;\r\n        newTableColumn.default = this.default;\r\n        newTableColumn.isNullable = this.isNullable;\r\n        newTableColumn.isGenerated = this.isGenerated;\r\n        newTableColumn.generationStrategy = this.generationStrategy;\r\n        newTableColumn.isPrimary = this.isPrimary;\r\n        newTableColumn.isUnique = this.isUnique;\r\n        newTableColumn.isArray = this.isArray;\r\n        newTableColumn.comment = this.comment;\r\n        return newTableColumn;\r\n    }\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Static Methods\r\n    // -------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Creates a new column based on the given column metadata.\r\n     */\r\n    static create(columnMetadata: ColumnMetadata, normalizedType: string, normalizedDefault: string, normalizedLength: string): TableColumn {\r\n        const tableColumn = new TableColumn();\r\n        tableColumn.name = columnMetadata.databaseName;\r\n        tableColumn.length = normalizedLength;\r\n        tableColumn.charset = columnMetadata.charset;\r\n        tableColumn.collation = columnMetadata.collation;\r\n        tableColumn.precision = columnMetadata.precision;\r\n        tableColumn.scale = columnMetadata.scale;\r\n        tableColumn.default = normalizedDefault;\r\n        tableColumn.comment = columnMetadata.comment;\r\n        tableColumn.isGenerated = columnMetadata.isGenerated;\r\n        tableColumn.generationStrategy = columnMetadata.generationStrategy;\r\n        tableColumn.isNullable = columnMetadata.isNullable;\r\n        tableColumn.type = normalizedType;\r\n        tableColumn.isPrimary = columnMetadata.isPrimary;\r\n        tableColumn.isUnique = columnMetadata.isUnique;\r\n        tableColumn.isArray = columnMetadata.isArray || false;\r\n        tableColumn.enum = columnMetadata.enum;\r\n        return tableColumn;\r\n    }\r\n\r\n}"],"sourceRoot":"../.."}